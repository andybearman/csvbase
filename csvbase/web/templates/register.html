{# -*- mode: jinja2 -*- #}
{% extends "base.html" %}

{% from 'value_macros.html' import id_input_validation_attrs %}

{% block main %}
  <div class="container">
    <h1>Register a new account</h1>
    <form method="POST">
      {% if whence %}
        <input type="hidden" name="whence" value="{{ whence }}">
      {% endif %}

      <p>
        <label>Username</label>
        <input type="text" name="username" required {{id_input_validation_attrs()}}>
      </p>
      <p>
        <label>(Optional) Email</label>
        <input type="text" name="email" pattern=".*@.*"
               title="Must contain an @-sign">
      </p>
      <p>
        <label>Password</label>
        <input type="password" required name="password">
      </p>

      <p>If you already have an account, <a href="{{url_for('csvbase.sign_in')}}">sign in</a></p>

      <input class="btn btn-primary" type="submit" value="Register">

    </form>
  </div>
{% endblock %}
